<!DOCTYPE html>
<html class="reftest-wait">
<meta name="fuzzy" content="maxDifference=0-30; totalPixels=0-500" />
<style>
  @keyframes a {
      from {
          filter: drop-shadow(110px 0 0 red);
      }
      to {
          filter: drop-shadow(110px 0 0 currentColor);
      }
  }
  @keyframes b {
      from {
          filter: drop-shadow(110px 0 0 currentColor);
      }
      to {
          filter: drop-shadow(110px 0 0 green);
      }
  }
  div {
      margin: 10px;
      height: 100px;
      width: 100px;
  }
  .a {
      background: currentColor;
      animation: a 0.1s both;
  }
  .b {
      background: green;
      animation: b 0.1s both;
  }
  .t {
      will-change: transform;
  }
</style>
<script>
  onload = () => {
      document.addEventListener("webkitAnimationEnd", () => {
          document.documentElement.classList.remove('reftest-wait');
      } , false);
  };
</script>
A test of drop-shadow with currentColor and a composited layer.
After 0.1s animation, you should see 8 boxes. The right and left sides should be the same color.
<div class="a s"></div>
<div class="a t"></div>
<div class="b s"></div>
<div class="b t"></div>
</html>
