<!DOCTYPE html><!-- webkit-test-runner [ spellCheckingDots=true ] -->
<html lang="en">
<meta charset="UTF-8">
<style>
div {
  font-size: 300%;
}
#target {
  text-decoration-line: underline;
  text-decoration-style: solid;
  text-decoration-color: blue;
}
</style>
<script src="../../resources/ui-helper.js"></script>
<script>
if (window.testRunner)
  testRunner.waitUntilDone();

if (window.internals)
  internals.setContinuousSpellCheckingEnabled(true);

function runTest()
{
  const target = document.getElementById("target");
  const misspelledText = "the the";
  target.focus();
  document.execCommand("InsertText", false, misspelledText);
  target.blur();
  if (window.testRunner)
    testRunner.notifyDone();
}
</script>
<body>
<div contenteditable="true" id="target"></div>
<script>
UIHelper.setSpellCheckerResults({
  "the the" : [
    {
      type: "grammar",
      from: 0,
      to : 7,
      details : [{ from : 0, to : 7 }]
    }
  ]
}).then(runTest);
</script>
</body>
